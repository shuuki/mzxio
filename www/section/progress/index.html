<section><h1>Progress.</h1></section><section id="progress"><p>1. Wouldn't that be somethin'?<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>2. No patience. Gluttonous.<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>3. Surrealists' so and so.<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>4. Making things on phones.<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>5. Don't look at the elephant.<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>6. Parting kisses at the corner.<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>7. Pulling at threads, ripping the tear.<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>8. Swift river currents.<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>9. Putting things in order.<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>10. I miss that stupid couch.<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>11. How did it come to this?<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>12. At the end of the world, be polite. Fight back.<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>13. Don't remember my destiny now. It was good.<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--><p>14. Too many voices, too many sounds.<!--a(href="#{slug}") #{thing.title} --></p><!--!= partial(slug)--></section><section class="interstice"><div id="chart"><div class="centered"><h4>6.0% </h4><p><b>14 
of 216</b></p></div></div></section><!--script(src="../script/progress.js")--><script>// make data

function sequence(steps, complete) {
  var days = [];
  for (var step = 0; step < steps; step++) {
    if (step < complete) {
      days.push({
        "day": step,
        "done": false
      });
    } else {
      days.push({
        "day": step,
        "done": true
      });
    }
  }
  return days;
}


// roll the data

var data  = sequence(216, $("#progress").children().length||1);


// d3

var width = 280,
  height = 280,
  radius = Math.min(width, height) / 2;

var color = d3.scale.ordinal()
  .range(["rgb(232,232,232)","rgb(42,42,42)"]);

var arc = d3.svg.arc()
  .outerRadius(radius)
  .innerRadius(radius - 20);

var pie = d3.layout.pie()
  .sort(null)
  .padAngle(0.0075)
  .value(function(d) { return 1; }); //for added fun, can also return d.day, d.done, etc

var svg = d3.select("#chart").append("svg")
  .attr("width", width)
  .attr("height", height)
  .append("g")
  .attr("transform", "translate(" + width/2 + "," + height/2 + ")");

var g = svg.selectAll(".arc")
  .data(pie(data))
  .enter().append("g")
  .attr("class", "arc");

g.append("path")
  .attr("d", arc)
  .style("fill", function(d) { return color(d.data.done); })
  .style("stroke","none");

/*
g.append("text")
  .attr("transform", function(d) { return "translate(" + arc.centroid(d) + ")"; })
  .attr("dy", "0.35em")
  .text(function(d) { return d.data.title; });
*/

function type(d) {
  d.day = +d.day;
  return d;
}</script>